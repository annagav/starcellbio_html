<style>

body {

    position: absolute;
    background: #f4f6f8;
    top:0px;
    font-family: 'sourcesanspro-bold';
    font-size: 10pt;
    color:#316f94;
    
}

.inlineLabels{
margin-left: -10px;
border:0;
}


input{
	height: 31px;
	clear: left;
}
	
.auth_submit_button{
		float:right; 
		-webkit-appearance:none; 
		border-radius: 8px; 
		letter-spacing:1px;
		text-transform:uppercase;
		background: #27956c; 
		height: 27px;
		color: white;
		font-size: 9pt; 
		cursor:pointer;
		position:relative;
		bottom: 8px;
		padding-left: 13px;
		padding-right: 9px;
		top:1px;
		border: 0;
}

#errorMsg, #error_1_id_email{
	color: red;
}

.auth_submit_button > div{
	position: relative;
	top: 2px;
}

#div_id_email > label, #div_id_password1 > label, #div_id_password2 > label, .course_code > label{
	color: #316f94;
	font-size: 9pt;
	letter-spacing: 1px;
	font-weight: bold;
	float: left;
	display:block;
	margin-bottom: 5px;
	text-transform: uppercase;
}

.account_input > label{
	color: #316f94;
	font-size: 9pt;
	letter-spacing: 1px;
	font-weight: bold;
	display:block;
	margin-bottom: 5px;
	text-transform: uppercase;
}


.account_input > span, .account_input > input{
	display: inline;
	vertical-align: middle;
}


#div_id_email > input, #div_id_password1 > input, #div_id_password2 > input, .course_code > input{

	display: block;
	width: 373px;
	box-shadow: inset 1px 1px 4px 0px gray;
}



</style>
{% load url from future %}
{% load i18n %}
{% load uni_form_tags %}
Your instructor should have provided you with a code that you need to enter below to register and use this StarCellBio tool.
  Please contact your instructor if you have not received this code. You will receive an email to confirm your account. <br/>
  <br/>
  Your work will be saved in this account. 
{% block content %}

<!-- 
<p>{% blocktrans %}Already have an account? Then please <a href="{{ login_url }}">sign in</a>.{% endblocktrans %}</p>
 -->

<form class="signup uniForm" id="signup_form" method="post" action="{% url 'account_signup' %}">
  {% csrf_token %}
  <fieldset class="inlineLabels">
  	<div  class='account_input'>
  	 <label>ACCOUNT TYPE </label>
    <input onclick='showCourseCode()' id='account_input_student' type='radio' value='student' name="account_type" /> <span>Student</span>
    <input onclick='hideCourseCode()' id='account_input_instructor' type='radio'  value='instructor' name="account_type"  /> <span>Instructor</span>
    </div>

    {{ form|as_uni_form }}
    {% if redirect_field_value %}
    <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}" />
    {% endif %}
    
   <div class='course_code'>
    <label>COURSE CODE </label>
    <input autocomplete="off" onfocus='setStatus()' onkeyup="changeStatus()" id='course_code_input' name="CC"  placeholder=''/>
	</div>
    
<div id='code_status' style='visibility:hidden; display:inline'> <span style='color:red'>&#215; </span>&nbsp; This is not a valid code. </div>
  <div class="buttonHolder">
      <button class="primaryAction auth_submit_button" id='auth_submit_button' type="submit" disabled>{% trans "Create Account" %}</button>
    </div>
  </fieldset>


</form>

{% endblock %}


<script>

if(document.getElementById('div_id_email').className != 'ctrlHolder error ')
document.getElementById('div_id_email').children[0].textContent='E-MAIL';
if(document.getElementById('div_id_password2').children[0] != 'ctrlHolder error ')
document.getElementById('div_id_password2').children[0].textContent='PASSWORD (AGAIN)';

function setStatus(){
	document.getElementById('code_status').style.visibility='visible';
}

function changeStatus(){
	var input = document.getElementById('course_code_input').value.toLowerCase();
	input = input.replace(/ /g,'');
	input = input.split(';');
	var code_values = ['starx', '7.02', '7.06', 'bio52', 'usability', '7.06_spring_2014'];
	outer_loop:
	for(var x = 0; x < code_values.length; x++){
		for(var y = 0; y< input.length; y++){
			if(input[y] == code_values[x]){
				document.getElementById('code_status').innerHTML = "<span style='color:green'>&#9745; </span>&nbsp; This is a valid code. You may create an account."
				document.getElementById('auth_submit_button').disabled=false;
				break outer_loop;
			}
			else{
			document.getElementById('code_status').innerHTML = "<span style='color:red'>&#215; </span>&nbsp; This is not a valid code. You cannot create an account."
			document.getElementById('auth_submit_button').disabled=true;
			}
		}
	}
}


function hideCourseCode(){
		document.getElementsByClassName('course_code')[0].style.display = 'none';
		document.getElementById('auth_submit_button').disabled=false;
}

function showCourseCode(){
		document.getElementsByClassName('course_code')[0].style.display = '';
		document.getElementById('auth_submit_button').disabled=true;
}


</script>

